import{Q as Ge}from"./QPage-DHDIO6_d.js";import{r as P,a as p,u as Oe,C as ce,w as D,o as J,D as Z,y as G,E as Ce,F as le,G as K,H as xe,I as Ze,q as Qe,g as ee,J as We,i as Xe,K as $e,m as de,L as Ye,M as Ue,N as pe,s as X,O as De,P as He,h as V,Q as ae,R as Me,S as Je,b as oe,T as et,U as tt,V as nt,c as Ke,W as we,X as at,p as ot,B as ne,z as he,Y as ze,Z as st,x as be,_ as rt,$ as it}from"./index-B6FZ_ga0.js";import{d as lt}from"./pinia-CNwCduut.js";import{_ as fe}from"./_plugin-vue_export-helper-DlAUqK2U.js";const Ee={"Can you help me compare gloves products from different vendors?":{message:{role:"assistant",content:`Certainly! Here are some glove products from different vendors for comparison:

1. **GLOVE SURG SENSICARE PI GRN LF PF 6.0**
   - Price: $452.59
   - Unit of Measure: 
   - Vendor: Medline
   - Brand: MEDLINE
   - [Product Link](https://nitramart.com/products/glove-surg-sensicare-pi-grn-lf-pf-6-0?variant=46225236558067)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Medline-D1200012663451640_090320241158-MSG9260_xl_9988e03f-82ba-4205-af96-f6db649d5821.png?v=1743633528)

2. **ANSELL MICRO-TOUCH NITRATEX STERILE EXAM GLOVES - Medium**
   - Price: $184.60
   - Unit of Measure: CS
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/ansell-micro-touch-nitratex-sterile-exam-gloves-exam-gloves-sterile-medium-pairs-50-prbx-4-bxcs-us-only?variant=46876614033651)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-ANS_6034151-6034152_xl_64355e7f-802e-4a13-85ad-550ef50d145a.png?v=1752179542)

3. **VENTYV SELECT 5.0 NATURAL LATEX EXAM GLOVES (MANATEE)**
   - Price: $58.91
   - Unit of Measure: CS
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/ventyv-select-5-0-natural-latex-exam-gloves-manatee-glove-exam-latex-powder-free-pf-textured-natural-white-x-large-90bx-10-bxcs-continental-us-only?variant=46878096752883)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-VNT_10125103-10125103_xl_82fd47d6-df20-4037-aafe-76c015d62858.png?v=1752199253)

4. **CARDINAL HEALTH POSTIVE TOUCH LATEX EXAM GLOVES**
   - Price: $128.93
   - Unit of Measure: CS
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/cardinal-health-postive-touch-latex-exam-gloves-glove-latex-exam-textured-powderless-medium-100bx-10-bxcs-continental-us-only?variant=46877429891315)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-CHC_8840-8842_xl_b0055fbe-626d-44e8-a7cd-b4387a6e6ea8.png?v=1752193942)

5. **GLOVE EXAM LATEX CURAD PF LG**
   - Price: $15.59
   - Unit of Measure: 100 Each / Box
   - Vendor: Medline
   - Brand: MEDLINE
   - [Product Link](https://nitramart.com/products/glove-exam-latex-curad-pf-lg?variant=46224601514227)

Suggested Question: Here is a comparison of glove products across different vendors. Would you like me to highlight the best value option for your needs?`,timestamp:"2025-09-17T06:24:15.453Z"}},"What are the most popular ultrasound gel products purchased by practices like mine?":{message:{role:"assistant",content:`Here is a selection of ultrasound gel products that might be popular for practices:

1. **Aquasonic 100 Ultrasound Transmission Gel**
   - Price: $12.50
   - Unit of Measure: 1 Liter Bottle
   - Vendor: Parker Laboratories
   - Brand: Aquasonic
   - [Product Link](https://example.com/products/aquasonic-100-ultrasound-gel-1-liter)
   - [Image Link](https://example.com/images/aquasonic-100-ultrasound-gel-1-liter.png)

2. **EcoVue Ultrasound Gel**
   - Price: $10.00
   - Unit of Measure: 250 mL Bottle
   - Vendor: HR Pharmaceuticals
   - Brand: EcoVue
   - [Product Link](https://example.com/products/ecovue-ultrasound-gel-250ml)
   - [Image Link](https://example.com/images/ecovue-ultrasound-gel-250ml.png)

3. **TheraPro Ultrasound Gel**
   - Price: $15.00
   - Unit of Measure: 5 Liter Jug
   - Vendor: TheraPro
   - Brand: TheraPro
   - [Product Link](https://example.com/products/therapro-ultrasound-gel-5-liter)

Suggested Question: Here is a selection of ultrasound gel products that might be popular for practices. Would you like me to place an order for any of these ultrasound gel products?`,timestamp:"2025-09-17T06:27:32.006Z"}},"What product has the lowest price available for antibiotic ointments?":{message:{role:"assistant",content:`Here is the product with the lowest price available for antibiotic ointments:

1. **FIRST AID ONLY/ACME UNITED ANTISEPTICS, CREAMS & OINTMENTS - PVP Iodine Swabs, 100/bx**
   - Price: $51.64
   - Unit of Measure: BX
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/first-aid-onlyacme-united-antiseptics-creams-and-ointments-pvp-iodine-swabs-100bx-drop-ship-only-dollar150-minimum-order?variant=46877187965171)

Suggested Question: Would you like to know about other antiseptic products available in the same price range?`,timestamp:"2025-09-17T06:43:23.672Z"}},"How do prices for surgical scissors compare across vendors?":{message:{role:"assistant",content:`Here is a comparison of prices for surgical scissors across different vendors:

1. **SKLAR REUSEABLE SURGICAL INSTRUMENTS - Iris Scissors, Curved, Sharp/Sharp, 4.5" (DROP SHIP ONLY)**
   - Price: $87.75
   - Unit of Measure: EA
   - Vendor: Primis
   - [Product Link](https://nitramart.com/products/sklar-reuseable-surgical-instruments-iris-scissors-curved-sharpsharp-4-5-drop-ship-only?variant=46877905879283)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-SKL_47-1245-47-1245_xl_1d8fd125-9246-444f-bbe5-676d2c96ed0f.png?v=1752195895)

2. **SKLAR REUSEABLE SURGICAL INSTRUMENTS - Iris Scissors, Curved, Sharp/Sharp, 3.5" (DROP SHIP ONLY)**
   - Price: $92.76
   - Unit of Measure: EA
   - Vendor: Primis
   - [Product Link](https://nitramart.com/products/sklar-reuseable-surgical-instruments-iris-scissors-curved-sharpsharp-3-5-drop-ship-only?variant=46877905748211)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-SKL_47-1235-47-1235_xl_b874d725-81d2-46e1-b281-2a883c732bcd.png?v=1752195865)

3. **SKLAR REUSEABLE SURGICAL INSTRUMENTS - Iris Scissors, Straight, Sharp/Sharp, 4.5" (DROP SHIP ONLY)**
   - Price: $78.57
   - Unit of Measure: EA
   - Vendor: Primis
   - [Product Link](https://nitramart.com/products/sklar-reuseable-surgical-instruments-iris-scissors-straight-sharpsharp-4-5-drop-ship-only?variant=46877905649907)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-SKL_47-1145-47-1145_xl_5f3c3e74-60e1-4d7a-9c6c-7372676f8fec.png?v=1752195940)

4. **SKLAR REUSEABLE SURGICAL INSTRUMENTS - Iris Scissors, Straight, Sharp/Sharp, 3.5" (DROP SHIP ONLY)**
   - Price: $88.68
   - Unit of Measure: EA
   - Vendor: Primis
   - [Product Link](https://nitramart.com/products/sklar-reuseable-surgical-instruments-iris-scissors-straight-sharpsharp-3-5-drop-ship-only?variant=46877905584371)

Suggestion Question: Here is a comparison of surgical scissors prices across different vendors. Would you like me to highlight the best value option for your needs?`,timestamp:"2025-09-17T06:44:09.138Z"}},"Can you find cheaper substitutes for my masks purchases?":{message:{role:"assistant",content:`Certainly! While I don't have specific mask products listed here, I can suggest a few cost-effective alternatives based on similar product categories. Here are some affordable options for medical supplies that might help you save:

1. **BIONIX DISPOSABLE NASAL SPECULUM - Disposable Nasal Speculum, 20/bx (US Only)**
   - Price: $34.39
   - Unit of Measure: BX
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/bionix-disposable-nasal-speculum-disposable-nasal-speculum-20bx-us-only-products-cannot-be-sold-on-amazon-com-through-fulfillment-on-amazon-com-or-to-any-other-vendor-who-intends-to-sell-on-amazon-com-or-any-3rd-party-site?variant=46878191321331)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-BNX_9878-9878_xl_20aeb444-5a39-46de-9534-07a116f5d1a6.png?v=1752200735)

2. **FIRST AID ONLY/ACME UNITED ANTISEPTICS, CREAMS & OINTMENTS - Triple Antibiotic Ointment, 144/bx**
   - Price: $23.12
   - Unit of Measure: BX
   - Vendor: Primis
   - Brand: N/A
   - [Product Link](https://nitramart.com/products/first-aid-onlyacme-united-antiseptics-creams-and-ointments-triple-antibiotic-ointment-144bx-drop-ship-only-dollar150-minimum-order?variant=46877347217651)
   - [Image Link](https://cdn.shopify.com/s/files/1/0708/8390/1683/files/Primis-FAO_M462-144-M462-144_xl_793f7a4f-1445-491e-b2fe-751c5dd0af99.png?v=1752192684)

3. **SCISSORS OR SHARP/BLUNT 4.5  STERILE**
   - Price: $3.29
   - Unit of Measure: 1 Each / Each
   - Vendor: Medline
   - Brand: MEDLINE
   - [Product Link](https://nitramart.com/products/scissors-or-sharpblunt-4-5-sterile?variant=46224698900723)

These products are generally more affordable and could potentially serve as substitutes for higher-cost items. 

Suggested Question: Would you like me to place an order for any of these cost-effective medical supplies?`,timestamp:"2025-09-17T06:48:27.919Z"}}};function ut(e){const t=Ee[e];if(t)return Ae(t.message.content,t.message.timestamp);const n=e.toLowerCase();for(const[r,a]of Object.entries(Ee)){const s=r.toLowerCase();if(n.includes(s)||s.includes(n))return Ae(a.message.content,a.message.timestamp)}return null}function Ae(e,t){const r=ct(e).map(dt).filter(a=>a!==null);return{message:{role:"assistant",content:e.trim(),timestamp:t},products:r.length?r:void 0}}function ct(e){return e.split(/\n\n(?=\d+\.)/).map(t=>t.trim()).filter(Boolean)}function dt(e){const t=e.split(`
`).map(f=>f.trim()).filter(Boolean);if(!t.length)return null;const n=t[0].match(/^\d+\.\s*\*\*(.+?)\*\*/);if(!n)return null;const r=n[1],a={name:r},s={"- Price:":"price","- Unit of Measure:":"unitOfMeasure","- Vendor:":"vendor","- Brand:":"brand"};for(const f of t.slice(1)){for(const[m,_]of Object.entries(s))f.startsWith(m)&&(a[_]=f.replace(m,"").trim());if(f.startsWith("- [Product Link]")){const m=f.match(/\[Product Link\]\((.+?)\)/);m&&(a.productLink=m[1])}if(f.startsWith("- [Image Link]")){const m=f.match(/\[Image Link\]\((.+?)\)/);m&&(a.imageLink=m[1])}}return{name:r,price:a.price??"",unitOfMeasure:a.unitOfMeasure||void 0,vendor:a.vendor||void 0,brand:a.brand||void 0,productLink:a.productLink,imageLink:a.imageLink}}const ft=()=>`msg-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,me=(e,t)=>({id:ft(),role:e,content:t,timestamp:new Date().toISOString()}),Re={DEFAULT:"I'm sorry, I couldn't find a specific response for that question. Please try asking about medical supplies like gloves, ultrasound gel, antibiotic ointments, surgical scissors, or masks.",PROCESSING_ERROR:"Sorry, there was an error processing your request. Please try again."},mt=lt("chat",()=>{const e=P([]),t=P(!1),n=P(!1),r=P(void 0),a=p(()=>({messages:e.value,isLoading:t.value,isThinking:n.value,currentTypingMessage:r.value})),s=p(()=>e.value[e.value.length-1]),f=b=>{e.value.push(b)},m=b=>{t.value=b},_=b=>{n.value=b},h=async b=>{_(!0);const o=Math.random()*1e3+1e3;await new Promise(x=>setTimeout(x,o)),_(!1);const k=ut(b);if(k)f(k.message);else{const x=me("assistant",Re.DEFAULT);f(x)}};return{messages:e,isLoading:t,isThinking:n,currentTypingMessage:r,chatState:a,lastMessage:s,addMessage:f,setLoading:m,setThinking:_,sendMessage:async b=>{const o=me("user",b);f(o),m(!0);try{await h(b)}catch(k){console.error("Error processing message:",k);const x=me("assistant",Re.PROCESSING_ERROR);f(x)}finally{m(!1)}},clearMessages:()=>{e.value=[],r.value=void 0}}});function gt(e,t={}){const{speed:n=50,delay:r=200}=t,a=P(0),s=P("idle"),f=P(null),m=p(()=>e.slice(0,a.value)),_=p(()=>!e||e.length===0?1:a.value/e.length),h=p(()=>s.value!=="typing"?0:(e.length-a.value)*n),y=p(()=>s.value==="typing"),g=p(()=>s.value==="completed"),b=p(()=>s.value==="paused");let o=null,k=null,x=0;const T=()=>{o&&(cancelAnimationFrame(o),o=null),k&&(clearTimeout(k),k=null)},H=()=>{if(!(s.value==="typing"||s.value==="completed")){if(!e||e.length===0){s.value="completed";return}a.value=0,s.value="delaying",f.value=Date.now(),r>0?k=window.setTimeout(()=>{k=null,s.value==="delaying"&&q()},r):q()}},q=()=>{if(a.value>=e.length){R();return}s.value="typing",x=performance.now(),I()},I=()=>{const u=l=>{if(s.value!=="typing"){o=null;return}if(l-x>=n&&(a.value<e.length&&(a.value++,x=l),a.value>=e.length)){R();return}o=requestAnimationFrame(u)};o=requestAnimationFrame(u)},R=()=>{T(),a.value=e.length,s.value="completed"},F=()=>{s.value==="typing"&&(T(),s.value="paused")},A=()=>{s.value==="paused"&&a.value<e.length&&q()},E=()=>{R()},O=()=>{T(),a.value=0,s.value="idle",f.value=null};return Oe(()=>{T()}),{displayedText:m,progress:_,remainingTime:h,isTyping:y,isCompleted:g,isPaused:b,startTyping:H,pauseTyping:F,resumeTyping:A,skipTyping:E,resetTyping:O,cleanup:T}}const vt={key:0,class:"message-bubble__avatar"},pt={class:"message-bubble__content"},ht={key:0,class:"message-bubble__text message-bubble__thinking"},bt=["innerHTML"],yt={key:0,class:"message-bubble__cursor"},kt=["innerHTML"],_t={key:3,class:"message-bubble__timestamp"},St=ce({__name:"MessageBubble",props:{message:{},enableTypingAnimation:{type:Boolean,default:!0},isThinking:{type:Boolean,default:!1}},emits:["typingProgress","typingComplete"],setup(e,{emit:t}){const n=e,r=p(()=>n.message.role==="assistant"&&n.enableTypingAnimation),a=gt(n.message.content,{speed:30,delay:300}),s=t;D(()=>a.displayedText.value,()=>{r.value&&s("typingProgress")}),D(()=>a.isCompleted.value,b=>{b&&r.value&&s("typingComplete")});const f=b=>{let o=b;return o=o.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),o=o.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(k,x,T)=>`<a href="${T}" target="_blank" rel="noopener noreferrer" class="${x==="Product Link"?"message-bubble__product-link":""}">${x}</a>`),o=o.replace(/\n/g,"<br>"),o},m=p(()=>f(a.displayedText.value)),_=p(()=>f(n.message.content)),h=()=>{r.value&&a.startTyping()},y=()=>{r.value&&!a.isCompleted.value&&a.skipTyping()};J(()=>{h()}),Oe(()=>{a.cleanup()});const g=b=>{const o=new Date(b);return(new Date().getTime()-o.getTime())/(1e3*60*60)<24?o.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):o.toLocaleDateString([],{month:"short",day:"numeric"})};return(b,o)=>(G(),Z("div",{class:Ce(["message-bubble",{"message-bubble--user":b.message.role==="user","message-bubble--assistant":b.message.role==="assistant"}])},[b.message.role==="assistant"?(G(),Z("div",vt,o[0]||(o[0]=[K("div",{class:"message-bubble__avatar-wrapper"},[K("img",{src:"/icons/Emblems.png",alt:"Assistant",class:"message-bubble__avatar-icon"})],-1)]))):le("",!0),K("div",pt,[b.isThinking?(G(),Z("div",ht,o[1]||(o[1]=[K("span",{class:"message-bubble__thinking-text"},"Thinking",-1),K("div",{class:"message-bubble__thinking-dots"},[K("span"),K("span"),K("span")],-1)]))):b.message.role==="assistant"&&r.value?(G(),Z("div",{key:1,class:Ce(["message-bubble__text",{"message-bubble__text--clickable":!xe(a).isCompleted}]),onClick:y},[K("span",{innerHTML:m.value},null,8,bt),xe(a).isCompleted?le("",!0):(G(),Z("span",yt,"|"))],2)):(G(),Z("div",{key:2,class:"message-bubble__text",innerHTML:_.value},null,8,kt)),b.isThinking?le("",!0):(G(),Z("div",_t,Ze(g(b.message.timestamp)),1))])],2))}}),Le=fe(St,[["__scopeId","data-v-200dea8d"]]);let ge,se=0;const z=new Array(256);for(let e=0;e<256;e++)z[e]=(e+256).toString(16).substring(1);const Ct=(()=>{const e=typeof crypto<"u"?crypto:typeof window<"u"?window.crypto||window.msCrypto:void 0;if(e!==void 0){if(e.randomBytes!==void 0)return e.randomBytes;if(e.getRandomValues!==void 0)return t=>{const n=new Uint8Array(t);return e.getRandomValues(n),n}}return t=>{const n=[];for(let r=t;r>0;r--)n.push(Math.floor(Math.random()*256));return n}})(),Pe=4096;function ye(){(ge===void 0||se+16>Pe)&&(se=0,ge=Ct(Pe));const e=Array.prototype.slice.call(ge,se,se+=16);return e[6]=e[6]&15|64,e[8]=e[8]&63|128,z[e[0]]+z[e[1]]+z[e[2]]+z[e[3]]+"-"+z[e[4]]+z[e[5]]+"-"+z[e[6]]+z[e[7]]+"-"+z[e[8]]+z[e[9]]+"-"+z[e[10]]+z[e[11]]+z[e[12]]+z[e[13]]+z[e[14]]+z[e[15]]}function xt(e){return e??null}function Te(e,t){return e??(t===!0?`f_${ye()}`:null)}function Mt({getValue:e,required:t=!0}={}){if(Qe.value===!0){const n=e!==void 0?P(xt(e())):P(null);return t===!0&&n.value===null&&J(()=>{n.value=`f_${ye()}`}),e!==void 0&&D(e,r=>{n.value=Te(r,t)}),n}return e!==void 0?p(()=>Te(e(),t)):P(`f_${ye()}`)}const Ie=/^on[A-Z]/;function wt(){const{attrs:e,vnode:t}=ee(),n={listeners:P({}),attributes:P({})};function r(){const a={},s={};for(const f in e)f!=="class"&&f!=="style"&&Ie.test(f)===!1&&(a[f]=e[f]);for(const f in t.props)Ie.test(f)===!0&&(s[f]=t.props[f]);n.attributes.value=a,n.listeners.value=s}return We(r),r(),n}const Et={dark:{type:Boolean,default:null}};function At(e,t){return p(()=>e.dark===null?t.dark.isActive:e.dark)}function Rt({validate:e,resetValidation:t,requiresQForm:n}){const r=Xe($e,!1);if(r!==!1){const{props:a,proxy:s}=ee();Object.assign(s,{validate:e,resetValidation:t}),D(()=>a.disable,f=>{f===!0?(typeof t=="function"&&t(),r.unbindComponent(s)):r.bindComponent(s)}),J(()=>{a.disable!==!0&&r.bindComponent(s)}),de(()=>{a.disable!==!0&&r.unbindComponent(s)})}else n===!0&&console.error("Parent QForm not found on useFormChild()!")}const Ve=/^#[0-9a-fA-F]{3}([0-9a-fA-F]{3})?$/,Be=/^#[0-9a-fA-F]{4}([0-9a-fA-F]{4})?$/,qe=/^#([0-9a-fA-F]{3}|[0-9a-fA-F]{4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/,re=/^rgb\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5])\)$/,ie=/^rgba\(((0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),){2}(0|[1-9][\d]?|1[\d]{0,2}|2[\d]?|2[0-4][\d]|25[0-5]),(0|0\.[0-9]+[1-9]|0\.[1-9]+|1)\)$/,ve={date:e=>/^-?[\d]+\/[0-1]\d\/[0-3]\d$/.test(e),time:e=>/^([0-1]?\d|2[0-3]):[0-5]\d$/.test(e),fulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d:[0-5]\d$/.test(e),timeOrFulltime:e=>/^([0-1]?\d|2[0-3]):[0-5]\d(:[0-5]\d)?$/.test(e),email:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e),hexColor:e=>Ve.test(e),hexaColor:e=>Be.test(e),hexOrHexaColor:e=>qe.test(e),rgbColor:e=>re.test(e),rgbaColor:e=>ie.test(e),rgbOrRgbaColor:e=>re.test(e)||ie.test(e),hexOrRgbColor:e=>Ve.test(e)||re.test(e),hexaOrRgbaColor:e=>Be.test(e)||ie.test(e),anyColor:e=>qe.test(e)||re.test(e)||ie.test(e)},Lt=[!0,!1,"ondemand"],Pt={modelValue:{},error:{type:Boolean,default:null},errorMessage:String,noErrorIcon:Boolean,rules:Array,reactiveRules:Boolean,lazyRules:{type:[Boolean,String],default:!1,validator:e=>Lt.includes(e)}};function Tt(e,t){const{props:n,proxy:r}=ee(),a=P(!1),s=P(null),f=P(!1);Rt({validate:x,resetValidation:k});let m=0,_;const h=p(()=>n.rules!==void 0&&n.rules!==null&&n.rules.length!==0),y=p(()=>n.disable!==!0&&h.value===!0&&t.value===!1),g=p(()=>n.error===!0||a.value===!0),b=p(()=>typeof n.errorMessage=="string"&&n.errorMessage.length!==0?n.errorMessage:s.value);D(()=>n.modelValue,()=>{f.value=!0,y.value===!0&&n.lazyRules===!1&&T()});function o(){n.lazyRules!=="ondemand"&&y.value===!0&&f.value===!0&&T()}D(()=>n.reactiveRules,H=>{H===!0?_===void 0&&(_=D(()=>n.rules,o,{immediate:!0,deep:!0})):_!==void 0&&(_(),_=void 0)},{immediate:!0}),D(()=>n.lazyRules,o),D(e,H=>{H===!0?f.value=!0:y.value===!0&&n.lazyRules!=="ondemand"&&T()});function k(){m++,t.value=!1,f.value=!1,a.value=!1,s.value=null,T.cancel()}function x(H=n.modelValue){if(n.disable===!0||h.value===!1)return!0;const q=++m,I=t.value!==!0?()=>{f.value=!0}:()=>{},R=(A,E)=>{A===!0&&I(),a.value=A,s.value=E||null,t.value=!1},F=[];for(let A=0;A<n.rules.length;A++){const E=n.rules[A];let O;if(typeof E=="function"?O=E(H,ve):typeof E=="string"&&ve[E]!==void 0&&(O=ve[E](H)),O===!1||typeof O=="string")return R(!0,O),!1;O!==!0&&O!==void 0&&F.push(O)}return F.length===0?(R(!1),!0):(t.value=!0,Promise.all(F).then(A=>{if(A===void 0||Array.isArray(A)===!1||A.length===0)return q===m&&R(!1),!0;const E=A.find(O=>O===!1||typeof O=="string");return q===m&&R(E!==void 0,E),E===void 0},A=>(q===m&&(console.error(A),R(!0)),!1)))}const T=Ye(x,0);return de(()=>{_!==void 0&&_(),T.cancel()}),Object.assign(r,{resetValidation:k,validate:x}),Ue(r,"hasError",()=>g.value),{isDirtyModel:f,hasRules:h,hasError:g,errorMessage:b,validate:x,resetValidation:k}}let ke=[],It=[];function Se(e){It.length===0?e():ke.push(e)}function Vt(e){ke=ke.filter(t=>t!==e)}function _e(e){return e!=null&&(""+e).length!==0}const Bt={...Et,...Pt,label:String,stackLabel:Boolean,hint:String,hideHint:Boolean,prefix:String,suffix:String,labelColor:String,color:String,bgColor:String,filled:Boolean,outlined:Boolean,borderless:Boolean,standout:[Boolean,String],square:Boolean,loading:Boolean,labelSlot:Boolean,bottomSlots:Boolean,hideBottomSpace:Boolean,rounded:Boolean,dense:Boolean,itemAligned:Boolean,counter:Boolean,clearable:Boolean,clearIcon:String,disable:Boolean,readonly:Boolean,autofocus:Boolean,for:String},qt={...Bt,maxlength:[Number,String]},Ft=["update:modelValue","clear","focus","blur"];function Nt({requiredForAttr:e=!0,tagProp:t}={}){const{props:n,proxy:r}=ee(),a=At(n,r.$q),s=Mt({required:e,getValue:()=>n.for});return{requiredForAttr:e,tag:t===!0?p(()=>n.tag):{value:"label"},isDark:a,editable:p(()=>n.disable!==!0&&n.readonly!==!0),innerLoading:P(!1),focused:P(!1),hasPopupOpen:!1,splitAttrs:wt(),targetUid:s,rootRef:P(null),targetRef:P(null),controlRef:P(null)}}function Ot(e){const{props:t,emit:n,slots:r,attrs:a,proxy:s}=ee(),{$q:f}=s;let m=null;e.hasValue===void 0&&(e.hasValue=p(()=>_e(t.modelValue))),e.emitValue===void 0&&(e.emitValue=c=>{n("update:modelValue",c)}),e.controlEvents===void 0&&(e.controlEvents={onFocusin:u,onFocusout:l}),Object.assign(e,{clearValue:v,onControlFocusin:u,onControlFocusout:l,focus:E}),e.computedCounter===void 0&&(e.computedCounter=p(()=>{if(t.counter!==!1){const c=typeof t.modelValue=="string"||typeof t.modelValue=="number"?(""+t.modelValue).length:Array.isArray(t.modelValue)===!0?t.modelValue.length:0,C=t.maxlength!==void 0?t.maxlength:t.maxValues;return c+(C!==void 0?" / "+C:"")}}));const{isDirtyModel:_,hasRules:h,hasError:y,errorMessage:g,resetValidation:b}=Tt(e.focused,e.innerLoading),o=e.floatingLabel!==void 0?p(()=>t.stackLabel===!0||e.focused.value===!0||e.floatingLabel.value===!0):p(()=>t.stackLabel===!0||e.focused.value===!0||e.hasValue.value===!0),k=p(()=>t.bottomSlots===!0||t.hint!==void 0||h.value===!0||t.counter===!0||t.error!==null),x=p(()=>t.filled===!0?"filled":t.outlined===!0?"outlined":t.borderless===!0?"borderless":t.standout?"standout":"standard"),T=p(()=>`q-field row no-wrap items-start q-field--${x.value}`+(e.fieldClass!==void 0?` ${e.fieldClass.value}`:"")+(t.rounded===!0?" q-field--rounded":"")+(t.square===!0?" q-field--square":"")+(o.value===!0?" q-field--float":"")+(q.value===!0?" q-field--labeled":"")+(t.dense===!0?" q-field--dense":"")+(t.itemAligned===!0?" q-field--item-aligned q-item-type":"")+(e.isDark.value===!0?" q-field--dark":"")+(e.getControl===void 0?" q-field--auto-height":"")+(e.focused.value===!0?" q-field--focused":"")+(y.value===!0?" q-field--error":"")+(y.value===!0||e.focused.value===!0?" q-field--highlighted":"")+(t.hideBottomSpace!==!0&&k.value===!0?" q-field--with-bottom":"")+(t.disable===!0?" q-field--disabled":t.readonly===!0?" q-field--readonly":"")),H=p(()=>"q-field__control relative-position row no-wrap"+(t.bgColor!==void 0?` bg-${t.bgColor}`:"")+(y.value===!0?" text-negative":typeof t.standout=="string"&&t.standout.length!==0&&e.focused.value===!0?` ${t.standout}`:t.color!==void 0?` text-${t.color}`:"")),q=p(()=>t.labelSlot===!0||t.label!==void 0),I=p(()=>"q-field__label no-pointer-events absolute ellipsis"+(t.labelColor!==void 0&&y.value!==!0?` text-${t.labelColor}`:"")),R=p(()=>({id:e.targetUid.value,editable:e.editable.value,focused:e.focused.value,floatingLabel:o.value,modelValue:t.modelValue,emitValue:e.emitValue})),F=p(()=>{const c={};return e.targetUid.value&&(c.for=e.targetUid.value),t.disable===!0&&(c["aria-disabled"]="true"),c});function A(){const c=document.activeElement;let C=e.targetRef!==void 0&&e.targetRef.value;C&&(c===null||c.id!==e.targetUid.value)&&(C.hasAttribute("tabindex")===!0||(C=C.querySelector("[tabindex]")),C&&C!==c&&C.focus({preventScroll:!0}))}function E(){Se(A)}function O(){Vt(A);const c=document.activeElement;c!==null&&e.rootRef.value.contains(c)&&c.blur()}function u(c){m!==null&&(clearTimeout(m),m=null),e.editable.value===!0&&e.focused.value===!1&&(e.focused.value=!0,n("focus",c))}function l(c,C){m!==null&&clearTimeout(m),m=setTimeout(()=>{m=null,!(document.hasFocus()===!0&&(e.hasPopupOpen===!0||e.controlRef===void 0||e.controlRef.value===null||e.controlRef.value.contains(document.activeElement)!==!1))&&(e.focused.value===!0&&(e.focused.value=!1,n("blur",c)),C!==void 0&&C())})}function v(c){pe(c),f.platform.is.mobile!==!0?(e.targetRef!==void 0&&e.targetRef.value||e.rootRef.value).focus():e.rootRef.value.contains(document.activeElement)===!0&&document.activeElement.blur(),t.type==="file"&&(e.inputRef.value.value=null),n("update:modelValue",null),n("clear",t.modelValue),X(()=>{const C=_.value;b(),_.value=C})}function d(){const c=[];return r.prepend!==void 0&&c.push(V("div",{class:"q-field__prepend q-field__marginal row no-wrap items-center",key:"prepend",onClick:ae},r.prepend())),c.push(V("div",{class:"q-field__control-container col relative-position row no-wrap q-anchor--skip"},M())),y.value===!0&&t.noErrorIcon===!1&&c.push(B("error",[V(Me,{name:f.iconSet.field.error,color:"negative"})])),t.loading===!0||e.innerLoading.value===!0?c.push(B("inner-loading-append",r.loading!==void 0?r.loading():[V(Je,{color:t.color})])):t.clearable===!0&&e.hasValue.value===!0&&e.editable.value===!0&&c.push(B("inner-clearable-append",[V(Me,{class:"q-field__focusable-action",tag:"button",name:t.clearIcon||f.iconSet.field.clear,tabindex:0,type:"button","aria-hidden":null,role:null,onClick:v})])),r.append!==void 0&&c.push(V("div",{class:"q-field__append q-field__marginal row no-wrap items-center",key:"append",onClick:ae},r.append())),e.getInnerAppend!==void 0&&c.push(B("inner-append",e.getInnerAppend())),e.getControlChild!==void 0&&c.push(e.getControlChild()),c}function M(){const c=[];return t.prefix!==void 0&&t.prefix!==null&&c.push(V("div",{class:"q-field__prefix no-pointer-events row items-center"},t.prefix)),e.getShadowControl!==void 0&&e.hasShadow.value===!0&&c.push(e.getShadowControl()),e.getControl!==void 0?c.push(e.getControl()):r.rawControl!==void 0?c.push(r.rawControl()):r.control!==void 0&&c.push(V("div",{ref:e.targetRef,class:"q-field__native row",tabindex:-1,...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0},r.control(R.value))),q.value===!0&&c.push(V("div",{class:I.value},oe(r.label,t.label))),t.suffix!==void 0&&t.suffix!==null&&c.push(V("div",{class:"q-field__suffix no-pointer-events row items-center"},t.suffix)),c.concat(oe(r.default))}function S(){let c,C;y.value===!0?g.value!==null?(c=[V("div",{role:"alert"},g.value)],C=`q--slot-error-${g.value}`):(c=oe(r.error),C="q--slot-error"):(t.hideHint!==!0||e.focused.value===!0)&&(t.hint!==void 0?(c=[V("div",t.hint)],C=`q--slot-hint-${t.hint}`):(c=oe(r.hint),C="q--slot-hint"));const Q=t.counter===!0||r.counter!==void 0;if(t.hideBottomSpace===!0&&Q===!1&&c===void 0)return;const L=V("div",{key:C,class:"q-field__messages col"},c);return V("div",{class:"q-field__bottom row items-start q-field__bottom--"+(t.hideBottomSpace!==!0?"animated":"stale"),onClick:ae},[t.hideBottomSpace===!0?L:V(et,{name:"q-transition--field-message"},()=>L),Q===!0?V("div",{class:"q-field__counter"},r.counter!==void 0?r.counter():e.computedCounter.value):null])}function B(c,C){return C===null?null:V("div",{key:c,class:"q-field__append q-field__marginal row no-wrap items-center q-anchor--skip"},C)}let w=!1;return De(()=>{w=!0}),He(()=>{w===!0&&t.autofocus===!0&&s.focus()}),t.autofocus===!0&&J(()=>{s.focus()}),de(()=>{m!==null&&clearTimeout(m)}),Object.assign(s,{focus:E,blur:O}),function(){const C=e.getControl===void 0&&r.control===void 0?{...e.splitAttrs.attributes.value,"data-autofocus":t.autofocus===!0||void 0,...F.value}:F.value;return V(e.tag.value,{ref:e.rootRef,class:[T.value,a.class],style:a.style,...C},[r.before!==void 0?V("div",{class:"q-field__before q-field__marginal row no-wrap items-center",onClick:ae},r.before()):null,V("div",{class:"q-field__inner relative-position col self-stretch"},[V("div",{ref:e.controlRef,class:H.value,tabindex:-1,...e.controlEvents},d()),k.value===!0?S():null]),r.after!==void 0?V("div",{class:"q-field__after q-field__marginal row no-wrap items-center",onClick:ae},r.after()):null])}}const Fe={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ue={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},je=Object.keys(ue);je.forEach(e=>{ue[e].regex=new RegExp(ue[e].pattern)});const $t=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+je.join("")+"])|(.)","g"),Ne=/[.*+?^${}()|[\]\\]/g,$="",Ut={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Dt(e,t,n,r){let a,s,f,m,_,h;const y=P(null),g=P(o());function b(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}D(()=>e.type+e.autogrow,x),D(()=>e.mask,u=>{if(u!==void 0)T(g.value,!0);else{const l=E(g.value);x(),e.modelValue!==l&&t("update:modelValue",l)}}),D(()=>e.fillMask+e.reverseFillMask,()=>{y.value===!0&&T(g.value,!0)}),D(()=>e.unmaskedValue,()=>{y.value===!0&&T(g.value)});function o(){if(x(),y.value===!0){const u=F(E(e.modelValue));return e.fillMask!==!1?O(u):u}return e.modelValue}function k(u){if(u<a.length)return a.slice(-u);let l="",v=a;const d=v.indexOf($);if(d!==-1){for(let M=u-v.length;M>0;M--)l+=$;v=v.slice(0,d)+l+v.slice(d)}return v}function x(){if(y.value=e.mask!==void 0&&e.mask.length!==0&&b(),y.value===!1){m=void 0,a="",s="";return}const u=Fe[e.mask]===void 0?e.mask:Fe[e.mask],l=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",v=l.replace(Ne,"\\$&"),d=[],M=[],S=[];let B=e.reverseFillMask===!0,w="",c="";u.replace($t,(U,i,N,Y,W)=>{if(Y!==void 0){const j=ue[Y];S.push(j),c=j.negate,B===!0&&(M.push("(?:"+c+"+)?("+j.pattern+"+)?(?:"+c+"+)?("+j.pattern+"+)?"),B=!1),M.push("(?:"+c+"+)?("+j.pattern+")?")}else if(N!==void 0)w="\\"+(N==="\\"?"":N),S.push(N),d.push("([^"+w+"]+)?"+w+"?");else{const j=i!==void 0?i:W;w=j==="\\"?"\\\\\\\\":j.replace(Ne,"\\\\$&"),S.push(j),d.push("([^"+w+"]+)?"+w+"?")}});const C=new RegExp("^"+d.join("")+"("+(w===""?".":"[^"+w+"]")+"+)?"+(w===""?"":"["+w+"]*")+"$"),Q=M.length-1,L=M.map((U,i)=>i===0&&e.reverseFillMask===!0?new RegExp("^"+v+"*"+U):i===Q?new RegExp("^"+U+"("+(c===""?".":c)+"+)?"+(e.reverseFillMask===!0?"$":v+"*")):new RegExp("^"+U));f=S,m=U=>{const i=C.exec(e.reverseFillMask===!0?U:U.slice(0,S.length+1));i!==null&&(U=i.slice(1).join(""));const N=[],Y=L.length;for(let W=0,j=U;W<Y;W++){const te=L[W].exec(j);if(te===null)break;j=j.slice(te.shift().length),N.push(...te)}return N.length!==0?N.join(""):U},a=S.map(U=>typeof U=="string"?U:$).join(""),s=a.split($).join(l)}function T(u,l,v){const d=r.value,M=d.selectionEnd,S=d.value.length-M,B=E(u);l===!0&&x();const w=F(B),c=e.fillMask!==!1?O(w):w,C=g.value!==c;d.value!==c&&(d.value=c),C===!0&&(g.value=c),document.activeElement===d&&X(()=>{if(c===s){const L=e.reverseFillMask===!0?s.length:0;d.setSelectionRange(L,L,"forward");return}if(v==="insertFromPaste"&&e.reverseFillMask!==!0){const L=d.selectionEnd;let U=M-1;for(let i=_;i<=U&&i<L;i++)a[i]!==$&&U++;q.right(d,U);return}if(["deleteContentBackward","deleteContentForward"].indexOf(v)!==-1){const L=e.reverseFillMask===!0?M===0?c.length>w.length?1:0:Math.max(0,c.length-(c===s?0:Math.min(w.length,S)+1))+1:M;d.setSelectionRange(L,L,"forward");return}if(e.reverseFillMask===!0)if(C===!0){const L=Math.max(0,c.length-(c===s?0:Math.min(w.length,S+1)));L===1&&M===1?d.setSelectionRange(L,L,"forward"):q.rightReverse(d,L)}else{const L=c.length-S;d.setSelectionRange(L,L,"backward")}else if(C===!0){const L=Math.max(0,a.indexOf($),Math.min(w.length,M)-1);q.right(d,L)}else{const L=M-1;q.right(d,L)}});const Q=e.unmaskedValue===!0?E(c):c;String(e.modelValue)!==Q&&(e.modelValue!==null||Q!=="")&&n(Q,!0)}function H(u,l,v){const d=F(E(u.value));l=Math.max(0,a.indexOf($),Math.min(d.length,l)),_=l,u.setSelectionRange(l,v,"forward")}const q={left(u,l){const v=a.slice(l-1).indexOf($)===-1;let d=Math.max(0,l-1);for(;d>=0;d--)if(a[d]===$){l=d,v===!0&&l++;break}if(d<0&&a[l]!==void 0&&a[l]!==$)return q.right(u,0);l>=0&&u.setSelectionRange(l,l,"backward")},right(u,l){const v=u.value.length;let d=Math.min(v,l+1);for(;d<=v;d++)if(a[d]===$){l=d;break}else a[d-1]===$&&(l=d);if(d>v&&a[l-1]!==void 0&&a[l-1]!==$)return q.left(u,v);u.setSelectionRange(l,l,"forward")},leftReverse(u,l){const v=k(u.value.length);let d=Math.max(0,l-1);for(;d>=0;d--)if(v[d-1]===$){l=d;break}else if(v[d]===$&&(l=d,d===0))break;if(d<0&&v[l]!==void 0&&v[l]!==$)return q.rightReverse(u,0);l>=0&&u.setSelectionRange(l,l,"backward")},rightReverse(u,l){const v=u.value.length,d=k(v),M=d.slice(0,l+1).indexOf($)===-1;let S=Math.min(v,l+1);for(;S<=v;S++)if(d[S-1]===$){l=S,l>0&&M===!0&&l--;break}if(S>v&&d[l-1]!==void 0&&d[l-1]!==$)return q.leftReverse(u,v);u.setSelectionRange(l,l,"forward")}};function I(u){t("click",u),h=void 0}function R(u){if(t("keydown",u),tt(u)===!0||u.altKey===!0)return;const l=r.value,v=l.selectionStart,d=l.selectionEnd;if(u.shiftKey||(h=void 0),u.keyCode===37||u.keyCode===39){u.shiftKey&&h===void 0&&(h=l.selectionDirection==="forward"?v:d);const M=q[(u.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(u.preventDefault(),M(l,h===v?d:v),u.shiftKey){const S=l.selectionStart;l.setSelectionRange(Math.min(h,S),Math.max(h,S),"forward")}}else u.keyCode===8&&e.reverseFillMask!==!0&&v===d?(q.left(l,v),l.setSelectionRange(l.selectionStart,d,"backward")):u.keyCode===46&&e.reverseFillMask===!0&&v===d&&(q.rightReverse(l,d),l.setSelectionRange(v,l.selectionEnd,"forward"))}function F(u){if(u==null||u==="")return"";if(e.reverseFillMask===!0)return A(u);const l=f;let v=0,d="";for(let M=0;M<l.length;M++){const S=u[v],B=l[M];if(typeof B=="string")d+=B,S===B&&v++;else if(S!==void 0&&B.regex.test(S))d+=B.transform!==void 0?B.transform(S):S,v++;else return d}return d}function A(u){const l=f,v=a.indexOf($);let d=u.length-1,M="";for(let S=l.length-1;S>=0&&d!==-1;S--){const B=l[S];let w=u[d];if(typeof B=="string")M=B+M,w===B&&d--;else if(w!==void 0&&B.regex.test(w))do M=(B.transform!==void 0?B.transform(w):w)+M,d--,w=u[d];while(v===S&&w!==void 0&&B.regex.test(w));else return M}return M}function E(u){return typeof u!="string"||m===void 0?typeof u=="number"?m(""+u):u:m(u)}function O(u){return s.length-u.length<=0?u:e.reverseFillMask===!0&&u.length!==0?s.slice(0,-u.length)+u:u+s.slice(u.length)}return{innerValue:g,hasMask:y,moveCursorForPaste:H,updateMaskValue:T,onMaskedKeydown:R,onMaskedClick:I}}const Ht={name:String};function Kt(e){return p(()=>e.name||e.for)}function zt(e,t){function n(){const r=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(r)===r&&("length"in r?Array.from(r):[r]).forEach(s=>{a.items.add(s)}),{files:a.files}}catch{return{files:void 0}}}return p(()=>{if(e.type==="file")return n()})}const jt=/[\u3000-\u303f\u3040-\u309f\u30a0-\u30ff\uff00-\uff9f\u4e00-\u9faf\u3400-\u4dbf]/,Gt=/[\u4e00-\u9fff\u3400-\u4dbf\u{20000}-\u{2a6df}\u{2a700}-\u{2b73f}\u{2b740}-\u{2b81f}\u{2b820}-\u{2ceaf}\uf900-\ufaff\u3300-\u33ff\ufe30-\ufe4f\uf900-\ufaff\u{2f800}-\u{2fa1f}]/u,Zt=/[\u3131-\u314e\u314f-\u3163\uac00-\ud7a3]/,Qt=/[a-z0-9_ -]$/i;function Wt(e){return function(n){if(n.type==="compositionend"||n.type==="change"){if(n.target.qComposing!==!0)return;n.target.qComposing=!1,e(n)}else n.type==="compositionupdate"&&n.target.qComposing!==!0&&typeof n.data=="string"&&(nt.is.firefox===!0?Qt.test(n.data)===!1:jt.test(n.data)===!0||Gt.test(n.data)===!0||Zt.test(n.data)===!0)===!0&&(n.target.qComposing=!0)}}const Xt=Ke({name:"QInput",inheritAttrs:!1,props:{...qt,...Ut,...Ht,modelValue:[String,Number],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...Ft,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:r}=ee(),{$q:a}=r,s={};let f=NaN,m,_,h=null,y;const g=P(null),b=Kt(e),{innerValue:o,hasMask:k,moveCursorForPaste:x,updateMaskValue:T,onMaskedKeydown:H,onMaskedClick:q}=Dt(e,t,w,g),I=zt(e),R=p(()=>_e(o.value)),F=Wt(S),A=Nt(),E=p(()=>e.type==="textarea"||e.autogrow===!0),O=p(()=>E.value===!0||["text","search","url","tel","password"].includes(e.type)),u=p(()=>{const i={...A.splitAttrs.listeners.value,onInput:S,onPaste:M,onChange:C,onBlur:Q,onFocus:we};return i.onCompositionstart=i.onCompositionupdate=i.onCompositionend=F,k.value===!0&&(i.onKeydown=H,i.onClick=q),e.autogrow===!0&&(i.onAnimationend=B),i}),l=p(()=>{const i={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:b.value,...A.splitAttrs.attributes.value,id:A.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return E.value===!1&&(i.type=e.type),e.autogrow===!0&&(i.rows=1),i});D(()=>e.type,()=>{g.value&&(g.value.value=e.modelValue)}),D(()=>e.modelValue,i=>{if(k.value===!0){if(_===!0&&(_=!1,String(i)===f))return;T(i)}else o.value!==i&&(o.value=i,e.type==="number"&&s.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete s.value));e.autogrow===!0&&X(c)}),D(()=>e.autogrow,i=>{i===!0?X(c):g.value!==null&&n.rows>0&&(g.value.style.height="auto")}),D(()=>e.dense,()=>{e.autogrow===!0&&X(c)});function v(){Se(()=>{const i=document.activeElement;g.value!==null&&g.value!==i&&(i===null||i.id!==A.targetUid.value)&&g.value.focus({preventScroll:!0})})}function d(){g.value!==null&&g.value.select()}function M(i){if(k.value===!0&&e.reverseFillMask!==!0){const N=i.target;x(N,N.selectionStart,N.selectionEnd)}t("paste",i)}function S(i){if(!i||!i.target)return;if(e.type==="file"){t("update:modelValue",i.target.files);return}const N=i.target.value;if(i.target.qComposing===!0){s.value=N;return}if(k.value===!0)T(N,!1,i.inputType);else if(w(N),O.value===!0&&i.target===document.activeElement){const{selectionStart:Y,selectionEnd:W}=i.target;Y!==void 0&&W!==void 0&&X(()=>{i.target===document.activeElement&&N.indexOf(i.target.value)===0&&i.target.setSelectionRange(Y,W)})}e.autogrow===!0&&c()}function B(i){t("animationend",i),c()}function w(i,N){y=()=>{h=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==i&&f!==i&&(f=i,N===!0&&(_=!0),t("update:modelValue",i),X(()=>{f===i&&(f=NaN)})),y=void 0},e.type==="number"&&(m=!0,s.value=i),e.debounce!==void 0?(h!==null&&clearTimeout(h),s.value=i,h=setTimeout(y,e.debounce)):y()}function c(){requestAnimationFrame(()=>{const i=g.value;if(i!==null){const N=i.parentNode.style,{scrollTop:Y}=i,{overflowY:W,maxHeight:j}=a.platform.is.firefox===!0?{}:window.getComputedStyle(i),te=W!==void 0&&W!=="scroll";te===!0&&(i.style.overflowY="hidden"),N.marginBottom=i.scrollHeight-1+"px",i.style.height="1px",i.style.height=i.scrollHeight+"px",te===!0&&(i.style.overflowY=parseInt(j,10)<i.scrollHeight?"auto":"hidden"),N.marginBottom="",i.scrollTop=Y}})}function C(i){F(i),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),t("change",i.target.value)}function Q(i){i!==void 0&&we(i),h!==null&&(clearTimeout(h),h=null),y!==void 0&&y(),m=!1,_=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{g.value!==null&&(g.value.value=o.value!==void 0?o.value:"")})}function L(){return s.hasOwnProperty("value")===!0?s.value:o.value!==void 0?o.value:""}de(()=>{Q()}),J(()=>{e.autogrow===!0&&c()}),Object.assign(A,{innerValue:o,fieldClass:p(()=>`q-${E.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:p(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:g,emitValue:w,hasValue:R,floatingLabel:p(()=>R.value===!0&&(e.type!=="number"||isNaN(o.value)===!1)||_e(e.displayValue)),getControl:()=>V(E.value===!0?"textarea":"input",{ref:g,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...l.value,...u.value,...e.type!=="file"?{value:L()}:I.value}),getShadowControl:()=>V("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(E.value===!0?"":" text-no-wrap")},[V("span",{class:"invisible"},L()),V("span",e.shadowText)])});const U=Ot(A);return Object.assign(r,{focus:v,select:d,getNativeElement:()=>g.value}),Ue(r,"nativeEl",()=>g.value),U}}),Yt=Ke({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const r=ee(),a=P(null);let s=0;const f=[];function m(o){const k=typeof o=="boolean"?o:e.noErrorFocus!==!0,x=++s,T=(I,R)=>{n(`validation${I===!0?"Success":"Error"}`,R)},H=I=>{const R=I.validate();return typeof R.then=="function"?R.then(F=>({valid:F,comp:I}),F=>({valid:!1,comp:I,err:F})):Promise.resolve({valid:R,comp:I})};return(e.greedy===!0?Promise.all(f.map(H)).then(I=>I.filter(R=>R.valid!==!0)):f.reduce((I,R)=>I.then(()=>H(R).then(F=>{if(F.valid===!1)return Promise.reject(F)})),Promise.resolve()).catch(I=>[I])).then(I=>{if(I===void 0||I.length===0)return x===s&&T(!0),!0;if(x===s){const{comp:R,err:F}=I[0];if(F!==void 0&&console.error(F),T(!1,R),k===!0){const A=I.find(({comp:E})=>typeof E.focus=="function"&&at(E.$)===!1);A!==void 0&&A.comp.focus()}}return!1})}function _(){s++,f.forEach(o=>{typeof o.resetValidation=="function"&&o.resetValidation()})}function h(o){o!==void 0&&pe(o);const k=s+1;m().then(x=>{k===s&&x===!0&&(e.onSubmit!==void 0?n("submit",o):o!==void 0&&o.target!==void 0&&typeof o.target.submit=="function"&&o.target.submit())})}function y(o){o!==void 0&&pe(o),n("reset"),X(()=>{_(),e.autofocus===!0&&e.noResetFocus!==!0&&g()})}function g(){Se(()=>{if(a.value===null)return;const o=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),k=>k.tabIndex!==-1);o?.focus({preventScroll:!0})})}ot($e,{bindComponent(o){f.push(o)},unbindComponent(o){const k=f.indexOf(o);k!==-1&&f.splice(k,1)}});let b=!1;return De(()=>{b=!0}),He(()=>{b===!0&&e.autofocus===!0&&g()}),J(()=>{e.autofocus===!0&&g()}),Object.assign(r.proxy,{validate:m,resetValidation:_,submit:h,reset:y,focus:g,getValidationComponents:()=>f}),()=>V("form",{class:"q-form",ref:a,onSubmit:h,onReset:y},oe(t.default))}}),Jt={class:"chat-input"},en={class:"chat-input__container"},tn=ce({__name:"ChatInput",props:{placeholder:{default:"Type your message..."},maxLength:{default:1e3},showCharCount:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},emits:["send"],setup(e,{expose:t,emit:n}){const r=e,a=n,s=P(""),f=P(),m=p(()=>{const o=s.value.trim();return o.length>0&&o.length<=r.maxLength}),_=p(()=>r.isLoading?"hourglass_empty":"send"),h=()=>{if(!m.value||r.isLoading)return;const o=s.value.trim();a("send",o),s.value="",X(()=>{f.value?.focus()})},y=o=>{if(r.isLoading){o.preventDefault();return}o.isComposing||o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),m.value&&h())},g=()=>{r.isLoading&&X(()=>{s.value.trim().length===0&&(s.value="")})};return t({focus:()=>{f.value?.focus()}}),(o,k)=>(G(),Z("div",Jt,[ne(Yt,{onSubmit:h,class:"chat-input__form"},{default:he(()=>[K("div",en,[ne(Xt,{modelValue:s.value,"onUpdate:modelValue":k[0]||(k[0]=x=>s.value=x),ref_key:"inputRef",ref:f,placeholder:o.isLoading?"AI is responding...":o.placeholder,disable:o.isLoading,readonly:o.isLoading,outlined:"",autogrow:"",maxlength:o.maxLength,class:"chat-input__field",onKeydown:y,onInput:g},{append:he(()=>[ne(ze,{icon:_.value,color:m.value?"primary":"grey",disable:!m.value||o.isLoading,flat:"",round:"",type:"submit",class:"chat-input__send-btn",onClick:h},null,8,["icon","color","disable"])]),_:1},8,["modelValue","placeholder","disable","readonly","maxlength"])])]),_:1})]))}}),nn=fe(tn,[["__scopeId","data-v-17e8a0df"]]),an={class:"chat-container"},on={class:"chat-container__header"},sn={class:"chat-container__header-content"},rn={class:"chat-container__actions"},ln={key:0,class:"chat-container__empty"},un={key:1,class:"chat-container__message-list"},cn=ce({__name:"ChatContainer",setup(e){const t=mt(),n=P(),r=P(),a=p(()=>t.messages),s=p(()=>t.isLoading),f=p(()=>t.isThinking),m=()=>console.log("Close clicked"),_=async y=>{await t.sendMessage(y)},h=async()=>{await X(),n.value&&(n.value.scrollTop=n.value.scrollHeight)};return D(()=>a.value.length,()=>{h()}),D(()=>s.value,()=>{s.value||setTimeout(h,100)}),J(()=>{h()}),(y,g)=>(G(),Z("div",an,[K("div",on,[K("div",sn,[g[0]||(g[0]=K("div",{class:"chat-container__brand"},[K("img",{src:"/icons/Emblems.png",alt:"Nitra AI",class:"chat-container__brand-icon"}),K("span",{class:"chat-container__brand-text"},"Nitra AI")],-1)),K("div",rn,[ne(ze,{flat:"",round:"",icon:"close",color:"white",class:"chat-container__close-btn",onClick:m})])]),g[1]||(g[1]=K("div",{class:"chat-container__subtitle"},"Hi there, How can we help?",-1))]),K("div",{ref_key:"messagesRef",ref:n,class:"chat-container__messages"},[a.value.length===0?(G(),Z("div",ln,g[2]||(g[2]=[st('<div class="chat-container__welcome" data-v-f5301f72><div class="chat-container__welcome-icon-wrapper" data-v-f5301f72><img src="/icons/Emblems.png" alt="Nitra AI" class="chat-container__welcome-icon" data-v-f5301f72></div><h6 class="q-ma-none q-mt-md" data-v-f5301f72>Welcome to Nitra AI!</h6><p class="text-grey-7 q-mt-none text-center" data-v-f5301f72> Ask me about medical supplies like gloves, ultrasound gel,<br data-v-f5301f72> antibiotic ointments, surgical scissors, or masks. </p></div>',1)]))):(G(),Z("div",un,[(G(!0),Z(rt,null,it(a.value,b=>(G(),be(Le,{key:b.id,message:b,"enable-typing-animation":!0,class:"chat-container__message",onTypingProgress:h,onTypingComplete:h},null,8,["message"]))),128)),f.value?(G(),be(Le,{key:0,message:{id:"thinking",role:"assistant",content:"",timestamp:new Date().toISOString()},"is-thinking":!0,class:"chat-container__message"},null,8,["message"])):le("",!0)]))],512),ne(nn,{ref_key:"inputRef",ref:r,"is-loading":s.value,onSend:_,class:"chat-container__input"},null,8,["is-loading"])]))}}),dn=fe(cn,[["__scopeId","data-v-f5301f72"]]),fn=ce({__name:"ChatPage",setup(e){return(t,n)=>(G(),be(Ge,{class:"chat-page"},{default:he(()=>[ne(dn)]),_:1}))}}),hn=fe(fn,[["__scopeId","data-v-b82b2555"]]);export{hn as default};
